#include <stdio.h>

int q1[50], q2[50];
int f1=0,r1=0,f2=0,r2=0;

void enqueue1(int x){ q1[r1++] = x; }
void enqueue2(int x){ q2[r2++] = x; }
int dequeue1(){ return q1[f1++]; }
int dequeue2(){ return q2[f2++]; }
int empty1(){ return f1==r1; }

void push(int x) {
    enqueue2(x);                       // Insert into q2
    while (!empty1())                  // Move all items q1 â†’ q2
        enqueue2(dequeue1());
    // swap queues
    int t;
    t=f1; f1=f2; f2=t;
    t=r1; r1=r2; r2=t;
    for(int i=0;i<50;i++){ t=q1[i]; q1[i]=q2[i]; q2[i]=t; }
}

int pop() {
    if (empty1()) return -1;
    return dequeue1();
}

int main() {
    push(10);
    push(20);
    push(30);

    printf("Pop: %d\n", pop());
    printf("Pop: %d\n", pop());

    return 0;
}
